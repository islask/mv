<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:layout="sap.ui.layout" xmlns:form="sap.ui.layout.form" xmlns:core="sap.ui.core" xmlns="sap.m"
	xmlns:smartField="sap.ui.comp.smartfield" xmlns:smartform="sap.ui.comp.smartform"
	xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" xmlns:html="http://www.w3.org/1999/xhtml"
	controllerName="qldh.ZHR_F_MV_CLAIM.controller.ClaimInit">
	<Page title="{i18n>title}">
		<VBox>
			<form:SimpleForm id="simpleFormEmployee" editable="true" layout="ResponsiveGridLayout" labelSpanXL="4" labelSpanL="3" labelSpanM="4"
				labelSpanS="12" adjustLabelSpan="false" emptySpanXL="0" emptySpanL="4" emptySpanM="0" emptySpanS="0" columnsXL="2" columnsL="1" columnsM="1"
				singleContainerFullSize="false">
				<form:content columnLayout="1">
					<Label id="lblCreateFor" text="{i18n>CreateFor}" labelFor="selCreateFor"/>
					<Select id="selCreateFor" forceSelection="false" enabled="true"
						items="{ path: '/PersonaSet', events: { dataReceived: '.onPersonaDataReceived'}}" change="_onPersonaSelected" ariaLabelledBy="lblCreateFor">
						<core:ListItem key="{Value}" text="{Name}"/>
						<layoutData>
							<layout:GridData span="XL3 L3 M3 S12"/>
						</layoutData>
					</Select>
					<Label id="lblClaimDt" text="{i18n>ClaimDate}" required="true"/>
					<DatePicker id="claimStartDtPicker" change="onDateChange" editable="{viewModel>/editable}" placeholder="dd.mm.yyyy"
						displayFormat="dd.MM.yyyy" visible="{= ${AppState>/fields/Persona} !== '' ? true : false}" width="100%" ariaLabelledBy="lblClaimDt">
						<layoutData>
							<layout:GridData span="XL3 L3 M3 S12"/>
						</layoutData>
					</DatePicker>
					<Label text="{i18n>PID}" labelFor="SelfPID"/>
					<Input id="SelfPID" required="true" value="{path: 'PID', type : 'sap.ui.model.type.Integer', constraints : { minLength: 1, maxLength: 8 } }"
						visible="{= !!${AppState>/fields/Persona} &amp;&amp; (!!${AppState>/fields/FormDate}) }" change="onPersonIdChange" type="Number"
						description="{Ename}" showValueHelp="true" valueHelpRequest="onPersonNumberValueHelp" class="sapUiMediumMarginBottom">
						<layoutData>
							<layout:GridData span="XL3 L3 M3 S12"/>
						</layoutData>
					</Input>
					<Label id="LBLPersonAssignment" text="{i18n>PAN}" required="true" labelFor="SlPersonAssignment"/>
					<Select id="SlPersonAssignment" selectedKey="{PAN}"
						enabled="{= !!${PersonId} &amp;&amp; ${AppState>/fields/FormStatus} === 'DRAFT' ? true : false}"
						items="{path: 'Persons>/PersonnelAssignmentsSet', parameters:{expand :'PositionNavn'}}" change="onPersonalAssignmentChange"
						forceSelection="false" visible="true">
						<items>
							<core:ListItem text="{Persons>PersonnelAssignmentNumber}" key="{Persons>PersonnelAssignmentNumber}"/>
						</items>
						<layoutData>
							<layout:GridData span="XL3 L3 M3 S12"/>
						</layoutData>
					</Select>
					<Label text="{i18n>POS}" required="true" labelFor="claimForPositionNumber"/>
					<Input id="claimForPositionNumber" editable="false"
						value="{path : 'Position', type : 'sap.ui.model.type.Integer', constraints : { minLength: 1, maxLength: 8 } }" type="Number"
						description="{PositionTitle}" change="onPositionNumberChange" showValueHelp="true" valueHelpRequest="onPositionNumberValueHelp"
						visible="true">
						<layoutData>
							<layout:GridData span="XL6 L6 M6 S12"/>
						</layoutData>
					</Input>
					<Text visible="true" text="{PositionTitle}">
						<layoutData>
							<layout:GridData span="XL3 L3 M5 S12"/>
						</layoutData>
					</Text>
					<Label text="{i18n>OrgUnit}" labelFor="claimForOrgUnitName" id="lblOrgUnit"/>
					<Input id="claimForOrgUnitName" value="{OrgUnit}" editable="false" showValueHelp="false" type="Number" visible="true">
						<layoutData>
							<layout:GridData span="XL3 L3 M3 S12"/>
						</layoutData>
					</Input>
					<Text visible="true" text="{OrgUnitTitle}">
						<layoutData>
							<layout:GridData span="XL3 L3 M3 S12"/>
						</layoutData>
					</Text>
				</form:content>
			</form:SimpleForm>
		</VBox>
		<footer>
			<Bar>
				<contentRight>
					<Button id="btnStart" text="{i18n>btnStartClaim}" press="handleStartPress"/>
				</contentRight>
			</Bar>
		</footer>
	</Page>
</mvc:View>